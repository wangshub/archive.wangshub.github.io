<!DOCTYPE html>
<html lang="zh-cn">
    <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noodp"/>
    <meta name="author" content="神奇的战士">
    
    <meta name="keywords" content="blog, GNU/Linux, Linux, Ubuntu, Docker, Robot, Python, DRL">
    
    <link rel="prev" href="https://wangshub.github.io/posts/kill-math/" />
    <link rel="next" href="https://wangshub.github.io/posts/docker-sentry-deploy/" />
    <link rel="canonical" href="https://wangshub.github.io/posts/control-robot-in-scratch3/" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <title>
        
        
            在 Scratch3 中玩转机器人:Python、Deep Learning、Posenet and Robot！ | 🍉 神奇的战士
        
    </title>
    <meta name="title" content="在 Scratch3 中玩转机器人:Python、Deep Learning、Posenet and Robot！ | 🍉 神奇的战士">
    
<link rel="stylesheet" href="/css/main.min.css">


    
    
 

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/wangshub.github.io"
    },
    "articleSection" : "posts",
    "name" : "在 Scratch3 中玩转机器人:Python、Deep Learning、Posenet and Robot！",
    "headline" : "在 Scratch3 中玩转机器人:Python、Deep Learning、Posenet and Robot！",
    "description" : "在 Scratch 中玩转机器人：Python、Deep Learning、Posenet and Robot！ 所有的边界都被打破了 \u0026ndash;《Mindstorm",
    "inLanguage" : "zh-cn",
    "author" : "神奇的战士",
    "creator" : "神奇的战士",
    "publisher": "神奇的战士",
    "accountablePerson" : "神奇的战士",
    "copyrightHolder" : "神奇的战士",
    "copyrightYear" : "2019",
    "datePublished": "2019-05-23 21:21:12 \u002b0000 UTC",
    "dateModified" : "2019-05-23 21:21:12 \u002b0000 UTC",
    "url" : "https:\/\/wangshub.github.io\/posts\/control-robot-in-scratch3\/",
    "wordCount" : "1234",
    "keywords" : [ "Scratch3","Python","Posenet", "🍉 神奇的战士"]
}
</script>

  </head>
    <body class="">
        <div class="wrapper">
            <nav class="navbar">
    
        <progress class="content_progress" max="0" value="0"></progress>
    
    <div class="container">
        
            <div class="navbar-header header-back2home-logo">
                <span class="logo_mark" >>$</span>
                <a href="https://wangshub.github.io">
                    <span class="logo_text" >cd /home/</span>
                    <span class="logo_cursor" ></span>
                </a>
            </div>
        
        <div class="navbar-right">
                
                <span class="menu">
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <span class="divide"></span>
                <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-dark-mode"></i></a>
                </span>
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
    
        <progress class="content_progress" max="0" value="0"></progress>
    
     <div class="container">
        <div class="navbar">
            <div class="navbar-header header-logo">
                    <a href="https://wangshub.github.io">🍉 神奇的战士</a>
            </div>
            <div class="navbar-right">
                <div><a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-dark-mode"></i></a></div>
                <div class="menu-toggle">
                    <span></span><span></span><span></span>
                </div>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                <nav class="mb-md">
                    
                    
                        <a class="menu-item" href="/posts/" title="">
                            <h3>Blog</h3>
                            <div class="menu-active"></div>
                        </a>
                    
                        <a class="menu-item" href="/tags/" title="">
                            <h3>Tags</h3>
                            <div class="menu-active"></div>
                        </a>
                    
                        <a class="menu-item" href="/about/" title="">
                            <h3>About</h3>
                            <div class="menu-active"></div>
                        </a>
                    
                </nav>
        </div>
    </div>
</nav>
            <main class="main">
                <div class="container">
                    
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">在 Scratch3 中玩转机器人:Python、Deep Learning、Posenet and Robot！</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://wangshub.github.io" rel="author">神奇的战士</a> with ♥
                <span class="post-time">
                on <time datetime=2019-05-23 itemprop="datePublished">May 23, 2019</time>
                </span>
                in
                
                <span class="post-word-count">1234 words</span>
        </div>
    </header>

    <div class="post-content">
        

        
        

        
        
        
        
        

        
        
        

        <h1 id="在-scratch-中玩转机器人pythondeep-learningposenet-and-robot">在 Scratch 中玩转机器人：Python、Deep Learning、Posenet and Robot！</h1>
<blockquote>
<p><strong>所有的边界都被打破了</strong> &ndash;《Mindstorms》第二版序言</p>
</blockquote>
<h2 id="开场视频先打个响指">开场视频：先打个响指</h2>
<blockquote>
<p><a href="https://v.qq.com/x/page/g0874rc7rwx.html">打响指控制机器人</a></p>
</blockquote>
<iframe width="640" height="480" src="https://v.qq.com/x/page/g0874rc7rwx.html" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<h2 id="codelab-scratch3-与-python">Codelab-Scratch3 与 Python</h2>
<p>Scratch 是一门编程语言，上榜过编程语言 Top 20，实际它是一门<strong>少儿编程语言</strong>(如果你成年了请先不要急着走)。Scratch 基于图形化的编程，通过拖拉搭积木的方式进行编程，整个过程就像是在玩乐高积木，其实 Scratch 项目受到乐高的赞助，乐高与 Scratch 之间可以说是互相影响。</p>
<div style="text-align:center"><img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524155347.png" width="15%" /></div>
<p>一个正经的程序员，在看到 Scratch 的卡通界面和图形化编程风格时，可能会嗤之以鼻，认为它看上去<strong>不像是严肃的编程语言，低龄化或者太简单了</strong>。刚开始我对 Scratch 的认知亦是如此。</p>
<p><a href="https://github.com/wwj718">@wwj718</a> 在 Scratch3 上做了<a href="https://codelab-adapter-docs.codelab.club/">大量出色的工作</a>，Scratch3 原本不支持运行 Python，利用 Scratch3 原生的插件拓展机制，采用 Websocket 来传递消息，这就像一个间谍，负责 Scratch 内部与外部的通信。消息源源不断地以话题/订阅的方式在网络中传播，这就让 Scratch 不再受限于浏览器网页中。我终于意识到，Scratch 可以做任何事！</p>
<div style="text-align:center"><img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524143948.png" width="100%" /></div>
<p>从上图看出，整个系统可以看做是三个部分：</p>
<ul>
<li>Scratch3：负责 Block 代码生成与运行，通过 websocket 传输消息；</li>
<li><a href="https://codelab-adapter-docs.codelab.club/user_guide/install/">Codelab-Adapter</a>：响应 Scratch 消息，Python 插件管理；</li>
<li>Python 插件集合：负责连接万物！</li>
</ul>
<p>按照这样的设计，Scratch 获得了 Python 的能力，可以将 Python 丰富的生态和库统统接入 Scratch，比如 TensorFlow、ML、DL，甚至可以是树莓派、灯泡、门锁、空调、机器人、游戏 &hellip;</p>
<p>Bret Victor 在《Kill Math》中说道</p>
<blockquote>
<p>理解并预测量化世界的能力不应该只属于那些能够熟练运用抽象数学符号的人。</p>
</blockquote>
<p><strong>而现在编程的能力也不应该只掌握在程序员的手上，在 Codelab-Scratch 中，用户可以快速和轻松地使用这些能力。</strong></p>
<p><em>为了向你证明这一切，下面是我在 Scratch3 中做的一个演示</em></p>
<h2 id="人体姿态估计posenet">人体姿态估计：Posenet</h2>
<p>Javascript 版 PoseNet 是 TensorFlow 与谷歌创意实验室合作一款机器学习模型，可以在浏览器中实时估计人体姿态。只要电脑或手机有摄像头，就可以直接在网页浏览器中体验这一有趣的技术。Scratch3 也是纯网页端的，所以将 PoseNet 做成插件的话，Scratch 积木块就具有视觉的能力！</p>
<div style="text-align:center"><img src ="https://user-images.githubusercontent.com/20924010/58311109-d0ee6c80-7e3a-11e9-8796-ace3d79395ac.gif" width="60%" /></div>
<p>针对 PoseNet，@wwj718 已经在 <a href="https://scratch3.codelab.club/">Codelab-Scratch3</a> 中接入了，智能硬件接口开放的话，接入 Scratch 中，就可以让原本功能单一的产品很容易地获得视觉能力。我相信这就是为我今天的演示所准备的，做一个 Scratch 版本的机甲猎人!</p>
<div style="text-align:center"><img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524110431.png" width="50%" /></div>
<div style="text-align:center">
<img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524101506.png" width="30%" />
<img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524101543.png" width="20%" />
</div>
<h2 id="如何接入机器人到-scratch3">如何接入机器人到 Scratch3</h2>
<p>首先硬件设备需要有开放的接口，比如开放的蓝牙协议、串口协议或者 Wi-Fi 协议等，Python 有非常成熟的库可以对这些接口进行调用(不开放也没关系，可以 Hack)。</p>
<p>我已提交相关机器人 Adapter 插件，感兴趣的可以参考我的 PR</p>
<ul>
<li><a href="https://github.com/Scratch3Lab/codelab_adapter_extensions/pull/13">codelab_adapter_extensions/pull/13</a></li>
<li><a href="https://github.com/Scratch3Lab/codelab_adapter_extensions/pull/14">codelab_adapter_extensions/pull/14</a></li>
</ul>
<h2 id="手势控制演示">手势控制演示</h2>
<p>手势控制机器人前后左右翻滚</p>
<div style="text-align:center"><img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524160540.png" width="40%" /></div>
<blockquote>
<p><a href="https://v.qq.com/x/page/q087453zq2i.html">翻跟斗演示视频</a></p>
</blockquote>
<iframe width="640" height="480" src="https://v.qq.com/x/page/q087453zq2i.html" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<h2 id="姿态模仿演示">姿态模仿演示</h2>
<div style="text-align:center"><img src ="https://raw.githubusercontent.com/wangshub/image-hosting/master/img/20190524160656.png" width="50%" /></div>
<p>下面是姿态模仿演示，请大家忽略我羞耻又沙雕的动作，和不协调的肢体。</p>
<blockquote>
<p><a href="https://v.qq.com/x/page/k0874r1m246.html">姿态模仿演示视频</a></p>
</blockquote>
<iframe width="640" height="480" src="https://v.qq.com/x/page/k0874r1m246.html" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>
<h2 id="最后">最后</h2>
<p>如果你也对这一块感兴趣，欢迎加入社区一起折腾。</p>
<h2 id="相关链接">相关链接</h2>
<ul>
<li><a href="https://thinkhard.tech/2019/05/16/Kill-Math/">Kill-Math</a></li>
<li><a href="http://www.lejurobot.com/aelos-edu/">Aelos Edu</a></li>
<li><a href="https://scratch3.codelab.club/">scratch3.codelab</a></li>
<li><a href="https://codelab-adapter-docs.codelab.club/">codelab-adapter-docs</a></li>
<li><a href="https://github.com/tensorflow/tfjs-models/tree/master/posenet">Pose Detection in the Browser</a></li>
<li><a href="https://github.com/Scratch3Lab/codelab_adapter_extensions/pull/13">codelab_adapter_extensions/pull/13</a></li>
<li><a href="https://github.com/Scratch3Lab/codelab_adapter_extensions/pull/14">codelab_adapter_extensions/pull/14</a></li>
</ul>
<h2 id="鸣谢">鸣谢</h2>
<ul>
<li>@jinbo 的 OSMO；</li>
<li>@yucong 的手抖式拍摄；</li>
<li>@jianhong 的专业动作调试；</li>
<li>@dongming 的无线 Dongle；</li>
<li>@carlos 的响指；</li>
</ul>

    </div>

    <div class="post-copyright">
            
            <p class="copyright-item">
                <span>Author:</span>
                <span>神奇的战士 </span>
                </p>
            

            
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://wangshub.github.io/posts/control-robot-in-scratch3/>https://wangshub.github.io/posts/control-robot-in-scratch3/</span>
            </p>
            
            
            <p class="copyright-item lincese">
                本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可
            </p>
            
    </div>


    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s):
            
            <span class="tag"><a href="https://wangshub.github.io/tags/scratch3/">
                    #Scratch3</a></span>
            
            <span class="tag"><a href="https://wangshub.github.io/tags/python/">
                    #Python</a></span>
            
            <span class="tag"><a href="https://wangshub.github.io/tags/posenet/">
                    #Posenet</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> ·
                <span><a href="https://wangshub.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://wangshub.github.io/posts/kill-math/" class="prev" rel="prev" title="【译】Kill Math(Bret Victor)：让数学不只是符号"><i class="iconfont icon-left"></i>&nbsp;【译】Kill Math(Bret Victor)：让数学不只是符号</a>
        
        
        <a href="https://wangshub.github.io/posts/docker-sentry-deploy/" class="next" rel="next" title="用 Docker 部署 Sentry Bug 日志收集服务">用 Docker 部署 Sentry Bug 日志收集服务&nbsp;<i class="iconfont icon-right"></i></a>
        
    </div>

    <div class="post-comment">
        
            
        
    </div>
</article>
                </div>
            </main>
            <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2016 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i>
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://wangshub.github.io">神奇的战士</a> | </span>
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/Mogeko/Mogege" target="_blank" rel="external nofollow">Mogege</a></span>
    </div>
</footer>






<script defer src="/js/vendor_main.min.js"></script>







<script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script> pangu.spacingPage();</script>



<script>
  MathJax = {
    tex: {
      inlineMath: [["$", "$"]],
    },
    displayMath: [
      ["$$", "$$"],
      ["\[\[", "\]\]"],
    ],
    svg: {
      fontCache: "global",
    },
  };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>

        </div>
    </body>
</html>
