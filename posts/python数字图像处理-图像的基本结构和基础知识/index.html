<!doctype html><html lang=zh-cn>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="chrome=1">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=robots content="noodp">
<meta name=author content="ç¥å¥‡çš„æˆ˜å£«">
<link rel=prev href=https://wangshub.github.io/posts/python-check-hosts-update/>
<link rel=next href=https://wangshub.github.io/posts/python%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E5%9B%BE%E5%83%8F%E5%99%AA%E5%A3%B0%E4%B8%8E%E5%8E%BB%E5%99%AA%E7%AE%97%E6%B3%95/>
<link rel=canonical href=https://wangshub.github.io/posts/python%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E5%9B%BE%E5%83%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%92%8C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/>
<link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/site.webmanifest>
<link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5>
<meta name=msapplication-TileColor content="#da532c">
<meta name=theme-color content="#ffffff">
<title>
pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯† | ğŸ‰ ç¥å¥‡çš„æˆ˜å£«
</title>
<meta name=title content="pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯† | ğŸ‰ ç¥å¥‡çš„æˆ˜å£«">
<link rel=stylesheet href=/css/main.min.css>
<script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/wangshub.github.io"},"articleSection":"posts","name":"pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯†","headline":"pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯†","description":"æ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯† ä¸€ã€pythonå®ç°BMPå›¾åƒçš„è¯»å–å’Œæ˜¾ç¤º BMPæ–‡ä»¶æ ¼å¼ï¼Œåˆç§°ä¸ºBitmapï¼ˆä½å›¾ï¼‰æˆ–æ˜¯DIB(Dev","inLanguage":"zh-cn","author":"ç¥å¥‡çš„æˆ˜å£«","creator":"ç¥å¥‡çš„æˆ˜å£«","publisher":"ç¥å¥‡çš„æˆ˜å£«","accountablePerson":"ç¥å¥‡çš„æˆ˜å£«","copyrightHolder":"ç¥å¥‡çš„æˆ˜å£«","copyrightYear":"2017","datePublished":"2017-12-16 17:10:39 \u002b0000 UTC","dateModified":"2017-12-16 17:10:39 \u002b0000 UTC","url":"https:\/\/wangshub.github.io\/posts\/python%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E5%9B%BE%E5%83%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%92%8C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86\/","wordCount":"2671","keywords":["python","algorithm","image","ğŸ‰ ç¥å¥‡çš„æˆ˜å£«"]}</script>
</head>
<body>
<div class=wrapper>
<nav class=navbar>
<progress class=content_progress max=0 value=0></progress>
<div class=container>
<div class="navbar-header header-back2home-logo">
<span class=logo_mark>>$</span>
<a href=https://wangshub.github.io>
<span class=logo_text>cd /home/</span>
<span class=logo_cursor></span>
</a>
</div>
<div class=navbar-right>
<span class=menu>
<a class=menu-item href=/posts/ title>Blog</a>
<a class=menu-item href=/categories/ title>Categories</a>
<a class=menu-item href=/tags/ title>Tags</a>
<a class=menu-item href=/about/ title>About</a>
<span class=divide></span>
<a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a>
</span>
</div>
</div>
</nav>
<nav class=navbar-mobile id=nav-mobile style=display:none>
<progress class=content_progress max=0 value=0></progress>
<div class=container>
<div class=navbar>
<div class="navbar-header header-logo">
<a href=https://wangshub.github.io>ğŸ‰ ç¥å¥‡çš„æˆ˜å£«</a>
</div>
<div class=navbar-right>
<div><a href=javascript:void(0); class=theme-switch><i class="iconfont icon-dark-mode"></i></a></div>
<div class=menu-toggle>
<span></span><span></span><span></span>
</div>
</div>
</div>
<div class=menu id=mobile-menu>
<nav class=mb-md>
<a class=menu-item href=/posts/ title>
<h3>Blog</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/categories/ title>
<h3>Categories</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/tags/ title>
<h3>Tags</h3>
<div class=menu-active></div>
</a>
<a class=menu-item href=/about/ title>
<h3>About</h3>
<div class=menu-active></div>
</a>
</nav>
</div>
</div>
</nav>
<main class=main>
<div class=container>
<article class=post-warp itemscope itemtype=http://schema.org/Article>
<header class=post-header>
<h1 class=post-title itemprop="name headline">pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯†</h1>
<div class=post-meta>
Written by <a itemprop=name href=https://wangshub.github.io rel=author>ç¥å¥‡çš„æˆ˜å£«</a> with â™¥
<span class=post-time>
on <time datetime=2017-12-16 itemprop=datePublished>December 16, 2017</time>
</span>
in
<span class=post-word-count>2671 words</span>
</div>
</header>
<div class=post-content>
<h1 id=æ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯†>æ•°å­—å›¾åƒå¤„ç†-å›¾åƒçš„åŸºæœ¬ç»“æ„å’ŒåŸºç¡€çŸ¥è¯†</h1>
<p><img src=https://i.loli.net/2017/12/16/5a34e2a04b0bc.bmp alt=LenaRGB.bmp loading=lazy></p>
<h2 id=ä¸€pythonå®ç°bmpå›¾åƒçš„è¯»å–å’Œæ˜¾ç¤º>ä¸€ã€pythonå®ç°BMPå›¾åƒçš„è¯»å–å’Œæ˜¾ç¤º</h2>
<p>BMPæ–‡ä»¶æ ¼å¼ï¼Œåˆç§°ä¸ºBitmapï¼ˆä½å›¾ï¼‰æˆ–æ˜¯DIB(Device-Independent Deviceï¼Œè®¾å¤‡æ— å…³ä½å›¾)ï¼Œæ˜¯Windowsç³»ç»Ÿä¸­å¹¿æ³›ä½¿ç”¨çš„å›¾åƒæ–‡ä»¶æ ¼å¼ã€‚ç”±äºå®ƒå¯ä»¥ä¸ä½œä»»ä½•å˜æ¢åœ°ä¿å­˜å›¾åƒåƒç´ åŸŸçš„æ•°æ®ï¼Œå› æ­¤æˆä¸ºæˆ‘ä»¬å–å¾—RAWæ•°æ®çš„é‡è¦æ¥æºã€‚Windowsçš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆgraphical user interfacesï¼‰ä¹Ÿåœ¨å®ƒçš„å†…å»ºå›¾åƒå­ç³»ç»ŸGDIä¸­å¯¹BMPæ ¼å¼æä¾›äº†æ”¯æŒã€‚</p>
<p>BMPæ–‡ä»¶çš„æ•°æ®æŒ‰ç…§ä»æ–‡ä»¶å¤´å¼€å§‹çš„å…ˆåé¡ºåºåˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>
<p><strong>bmpæ–‡ä»¶å¤´(bmp file header)</strong> ï¼šæä¾›æ–‡ä»¶çš„æ ¼å¼ã€å¤§å°ç­‰ä¿¡æ¯</p>
</li>
<li>
<p><strong>ä½å›¾ä¿¡æ¯å¤´(bitmap information)</strong>ï¼šæä¾›å›¾åƒæ•°æ®çš„å°ºå¯¸ã€ä½å¹³é¢æ•°ã€å‹ç¼©æ–¹å¼ã€é¢œè‰²ç´¢å¼•ç­‰ä¿¡æ¯</p>
</li>
<li>
<p><strong>è°ƒè‰²æ¿(color palette)</strong>ï¼šå¯é€‰ï¼Œå¦‚ä½¿ç”¨ç´¢å¼•æ¥è¡¨ç¤ºå›¾åƒï¼Œè°ƒè‰²æ¿å°±æ˜¯ç´¢å¼•ä¸å…¶å¯¹åº”çš„é¢œè‰²çš„æ˜ å°„è¡¨</p>
</li>
<li>
<p><strong>ä½å›¾æ•°æ®(bitmap data)</strong>ï¼šå°±æ˜¯å›¾åƒæ•°æ®</p>
</li>
</ol>
<blockquote>
<p>å‚è€ƒé“¾æ¥
<a href=https://zh.wikipedia.org/wiki/BMP>https://zh.wikipedia.org/wiki/BMP</a></p>
</blockquote>
<h2 id=äºŒpythonç»Ÿè®¡å›¾åƒçš„ç›´æ–¹å›¾>äºŒã€pythonç»Ÿè®¡å›¾åƒçš„ç›´æ–¹å›¾</h2>
<p><strong>å›¾åƒç›´æ–¹å›¾</strong>ï¼ˆè‹±è¯­ï¼šImage Histogramï¼‰æ˜¯ç”¨ä»¥è¡¨ç¤ºæ•°å­—å›¾åƒä¸­äº®åº¦åˆ†å¸ƒçš„ç›´æ–¹å›¾ï¼Œæ ‡ç»˜äº†å›¾åƒä¸­æ¯ä¸ªäº®åº¦å€¼çš„åƒç´ æ•°ã€‚å¯ä»¥å€ŸåŠ©è§‚å¯Ÿè¯¥ç›´æ–¹å›¾äº†è§£éœ€è¦å¦‚ä½•è°ƒæ•´äº®åº¦åˆ†å¸ƒã€‚è¿™ç§ç›´æ–¹å›¾ä¸­ï¼Œæ¨ªåæ ‡çš„å·¦ä¾§ä¸ºçº¯é»‘ã€è¾ƒæš—çš„åŒºåŸŸï¼Œè€Œå³ä¾§ä¸ºè¾ƒäº®ã€çº¯ç™½çš„åŒºåŸŸã€‚å› æ­¤ï¼Œä¸€å¼ è¾ƒæš—å›¾ç‰‡çš„å›¾åƒç›´æ–¹å›¾ä¸­çš„æ•°æ®å¤šé›†ä¸­äºå·¦ä¾§å’Œä¸­é—´éƒ¨åˆ†ï¼›è€Œæ•´ä½“æ˜äº®ã€åªæœ‰å°‘é‡é˜´å½±çš„å›¾åƒåˆ™ç›¸åã€‚
å¾ˆå¤šæ•°ç ç›¸æœºæä¾›å›¾åƒç›´æ–¹å›¾åŠŸèƒ½ï¼Œæ‹æ‘„è€…å¯ä»¥é€šè¿‡è§‚å¯Ÿå›¾åƒç›´æ–¹å›¾äº†è§£åˆ°å½“å‰å›¾åƒæ˜¯å¦è¿‡åˆ†æ›å…‰æˆ–è€…æ›å…‰ä¸è¶³ã€‚
è®¡ç®—æœºè§†è§‰é¢†åŸŸå¸¸å€ŸåŠ©å›¾åƒç›´æ–¹å›¾æ¥å®ç°å›¾åƒçš„äºŒå€¼åŒ–</p>
<p><img src=https://i.loli.net/2017/12/16/5a34e49c0fd38.png alt="2 ç»Ÿè®¡ç›´æ–¹å›¾.png" loading=lazy></p>
<blockquote>
<p>å‚è€ƒé“¾æ¥
<a href=https://zh.wikipedia.org/wiki/%E7%9B%B4%E6%96%B9%E5%9B%BE#%E5%9B%BE%E5%83%8F%E7%9B%B4%E6%96%B9%E5%9B%BE>https://zh.wikipedia.org/wiki/%E7%9B%B4%E6%96%B9%E5%9B%BE#%E5%9B%BE%E5%83%8F%E7%9B%B4%E6%96%B9%E5%9B%BE</a></p>
</blockquote>
<h2 id=ä¸‰rgbyiqhsixyzé¢œè‰²ç©ºé—´>ä¸‰ã€RGBã€YIQã€HSIã€XYZé¢œè‰²ç©ºé—´</h2>
<h3 id=yiq>YIQ</h3>
<p>YIQè‰²å½©ç©ºé—´é€šå¸¸è¢«åŒ—ç¾çš„ç”µè§†ç³»ç»Ÿæ‰€é‡‡ç”¨ï¼Œå±äºNTSCï¼ˆNational Television Standards Committeeï¼‰ç³»ç»Ÿã€‚è¿™é‡ŒYä¸æ˜¯æŒ‡é»„è‰²ï¼Œè€Œæ˜¯æŒ‡é¢œè‰²çš„æ˜è§†åº¦ï¼ˆLuminanceï¼‰ï¼Œå³äº®åº¦ï¼ˆBrightnessï¼‰ã€‚å…¶å®Yå°±æ˜¯å›¾åƒçš„ç°åº¦å€¼ï¼ˆGray valueï¼‰ï¼Œè€ŒIå’ŒQåˆ™æ˜¯æŒ‡è‰²è°ƒï¼ˆChrominanceï¼‰ï¼Œå³æè¿°å›¾åƒè‰²å½©åŠé¥±å’Œåº¦çš„å±æ€§ã€‚åœ¨YIQç³»ç»Ÿä¸­ï¼ŒYåˆ†é‡ä»£è¡¨å›¾åƒçš„äº®åº¦ä¿¡æ¯ï¼ŒIã€Qä¸¤ä¸ªåˆ†é‡åˆ™æºå¸¦é¢œè‰²ä¿¡æ¯ï¼ŒIåˆ†é‡ä»£è¡¨ä»æ©™è‰²åˆ°é’è‰²çš„é¢œè‰²å˜åŒ–ï¼Œè€ŒQåˆ†é‡åˆ™ä»£è¡¨ä»ç´«è‰²åˆ°é»„ç»¿è‰²çš„é¢œè‰²å˜åŒ–ã€‚</p>
<p>NTSCåˆ¶ä¸ºäº†è¿›ä¸€æ­¥å‹ç¼©è‰²åº¦å¸¦å®½ï¼Œç”¨è‰²å·®ä¿¡å·I,Qæ¥ä»£æ›¿U,Vã€‚è‹¥é‡‡ç”¨U,Vè‰²å·®ä¿¡å·ï¼Œåˆ™è‰²åº¦ã€äº®åº¦ä¿¡å·çš„å…±é¢‘å¸¦éƒ¨åˆ†æå¤§ï¼Œä½ç«¯ä¸å…±é¢‘å¸¦çš„äº®åº¦ä¿¡å·å¸¦å®½å¾ˆå°ï¼Œäº®ã€è‰²å¹²æ‰°å¤§ã€‚å°†å½©è‰²å›¾åƒä»RGBè½¬æ¢åˆ°YIQè‰²å½©ç©ºé—´ï¼Œå¯ä»¥æŠŠå½©è‰²å›¾åƒä¸­çš„äº®åº¦ä¿¡æ¯ä¸è‰²åº¦ä¿¡æ¯åˆ†å¼€ï¼Œåˆ†åˆ«ç‹¬ç«‹è¿›è¡Œå¤„ç†ã€‚</p>
<p>RGBå’ŒYIQçš„å¯¹åº”å…³ç³»ç”¨ä¸‹é¢çš„æ–¹ç¨‹å¼è¡¨ç¤ºï¼š</p>
<pre tabindex=0><code>Y=0.299R+0.587G+0.114B
I=0.596R-0.274G-0.322B
Q=0.211R-0.523G+0.312B
</code></pre><p><img src=https://i.loli.net/2017/12/16/5a34e49c3a072.png alt="3 YIQåˆ†é‡.png" loading=lazy></p>
<h3 id=hsi>HSI</h3>
<ul>
<li>
<p>è‰²è°ƒHï¼ˆHueï¼‰ï¼šä¸å…‰æ³¢çš„æ³¢é•¿æœ‰å…³ï¼Œå®ƒè¡¨ç¤ºäººçš„æ„Ÿå®˜å¯¹ä¸åŒé¢œè‰²çš„æ„Ÿå—ï¼Œå¦‚çº¢è‰²ã€ç»¿è‰²ã€è“è‰²ç­‰ï¼Œå®ƒä¹Ÿå¯è¡¨ç¤ºä¸€å®šèŒƒå›´çš„é¢œè‰²ï¼Œå¦‚æš–è‰²ã€å†·è‰²ç­‰ã€‚</p>
</li>
<li>
<p>é¥±å’Œåº¦Sï¼ˆSaturationï¼‰ï¼šè¡¨ç¤ºé¢œè‰²çš„çº¯åº¦ï¼Œçº¯å…‰è°±è‰²æ˜¯å®Œå…¨é¥±å’Œçš„ï¼ŒåŠ å…¥ç™½å…‰ä¼šç¨€é‡Šé¥±å’Œåº¦ã€‚é¥±å’Œåº¦è¶Šå¤§ï¼Œé¢œè‰²çœ‹èµ·æ¥å°±ä¼šè¶Šé²œè‰³ï¼Œåä¹‹äº¦ç„¶ã€‚</p>
</li>
<li>
<p>äº®åº¦Iï¼ˆIntensityï¼‰ï¼šå¯¹åº”æˆåƒäº®åº¦å’Œå›¾åƒç°åº¦ï¼Œæ˜¯é¢œè‰²çš„æ˜äº®ç¨‹åº¦ã€‚
è‹¥å°†RGBå•ä½ç«‹æ–¹ä½“æ²¿ä¸»å¯¹è§’çº¿è¿›è¡ŒæŠ•å½±ï¼Œå¯å¾—åˆ°å…­è¾¹å½¢ï¼Œè¿™æ ·ï¼ŒåŸæ¥æ²¿ä¸»å¯¹è§’çº¿çš„ç°è‰²éƒ½æŠ•å½±åˆ°ä¸­å¿ƒç™½è‰²ç‚¹ï¼Œè€Œçº¢è‰²ç‚¹ï¼ˆ1ï¼Œ0ï¼Œ0ï¼‰åˆ™ä½äºå³è¾¹çš„è§’ä¸Šï¼Œç»¿è‰²ç‚¹ï¼ˆ0ï¼Œ1ï¼Œ0ï¼‰ä½äºå·¦ä¸Šè§’ï¼Œè“è‰²ç‚¹ï¼ˆ0ï¼Œ0ï¼Œ1ï¼‰åˆ™ä½äºå·¦ä¸‹è§’ã€‚</p>
</li>
</ul>
<p>HSIé¢œè‰²æ¨¡å‹çš„åŒå…­æ£±é”¥è¡¨ç¤ºï¼ŒIæ˜¯å¼ºåº¦è½´ï¼Œè‰²è°ƒHçš„è§’åº¦èŒƒå›´ä¸º[0ï¼Œ2Ï€]ï¼Œå…¶ä¸­ï¼Œçº¯çº¢è‰²çš„è§’åº¦ä¸º0ï¼Œçº¯ç»¿è‰²çš„è§’åº¦ä¸º2Ï€/3ï¼Œçº¯è“è‰²çš„è§’åº¦ä¸º4Ï€/3ã€‚é¥±å’Œåº¦Sæ˜¯é¢œè‰²ç©ºé—´ä»»ä¸€ç‚¹è·Iè½´çš„è·ç¦»ã€‚å½“ç„¶ï¼Œè‹¥ç”¨åœ†è¡¨ç¤ºRGBæ¨¡å‹çš„æŠ•å½±ï¼Œåˆ™HSIè‰²åº¦ç©ºé—´ä¸ºåŒåœ†é”¥3Dè¡¨ç¤ºã€‚</p>
<p>æ³¨æ„ï¼š å½“å¼ºåº¦I=0æ—¶ï¼Œè‰²è°ƒHã€é¥±å’Œåº¦Sæ— å®šä¹‰ï¼›å½“S=0æ—¶ï¼Œè‰²è°ƒHæ— å®šä¹‰ã€‚
HSIæ¨¡å‹ä¹Ÿå¯ç”¨åœ†æŸ±æ¥è¡¨ç¤ºï¼Œå¦‚å›¾9-5æ‰€ç¤ºã€‚è‹¥å°†å…¶å±•å¼€ï¼Œå¹¶æŒ‰å›¾9-6è¿›è¡Œå®šä¹‰ï¼Œå¯å¾—åˆ°HSIè°ƒè‰²æ¿ã€‚</p>
<p><img src=https://i.loli.net/2017/12/16/5a34e15929e62.jpg alt=HSI_Formula.jpg loading=lazy></p>
<p><img src=https://i.loli.net/2017/12/16/5a34e49c37be5.png alt="5 HSIåˆ†é‡.png" loading=lazy></p>
<h3 id=xyz>XYZ</h3>
<p>å›½é™…ç…§æ˜å§”å‘˜ä¼š(CIE)åœ¨è¿›è¡Œäº†å¤§é‡æ­£å¸¸äººè§†è§‰æµ‹é‡å’Œç»Ÿè®¡,1931å¹´å»ºç«‹äº†"æ ‡å‡†è‰²åº¦è§‚å¯Ÿè€…"ï¼Œ ä»è€Œå¥ å®šäº†ç°ä»£CIEæ ‡å‡†è‰²åº¦å­¦çš„å®šé‡åŸºç¡€ã€‚ç”±äº"æ ‡å‡†è‰²åº¦è§‚å¯Ÿè€…"ç”¨æ¥æ ‡å®šå…‰è°±è‰²æ—¶å‡ºç°è´Ÿ åˆºæ¿€å€¼ï¼Œè®¡ç®—ä¸ä¾¿ï¼Œä¹Ÿä¸æ˜“ç†è§£ï¼Œå› æ­¤1931å¹´CIEåœ¨RGBç³»ç»ŸåŸºç¡€ä¸Šï¼Œæ”¹ç”¨ä¸‰ä¸ªå‡æƒ³çš„åŸè‰²Xã€Yã€ Zå»ºç«‹äº†ä¸€ä¸ªæ–°çš„è‰²åº¦ç³»ç»Ÿã€‚å°†å®ƒåŒ¹é…ç­‰èƒ½å…‰è°±çš„ä¸‰åˆºæ¿€å€¼ï¼Œå®šåä¸º"CIE1931 æ ‡å‡†è‰²åº¦è§‚å¯Ÿè€… å…‰è°±ä¸‰åˆºæ¿€å€¼"ï¼Œç®€ç§°ä¸º"CIE1931æ ‡å‡†è‰²åº¦è§‚å¯Ÿè€…"ã€‚è¿™ä¸€ç³»ç»Ÿå«åš"CIE1931æ ‡å‡†è‰²åº¦ç³»ç»Ÿ"æˆ–ç§°ä¸º" 2Â° è§†åœºXYZè‰²åº¦ç³»ç»Ÿ"ã€‚CIEXYZé¢œè‰²ç©ºé—´ç¨åŠ å˜æ¢å°±å¯å¾—åˆ°Yxyè‰²å½©ç©ºé—´ï¼Œå…¶ä¸­Yå–ä¸‰åˆºæ¿€å€¼ä¸­Yçš„å€¼ï¼Œ è¡¨ç¤ºäº®åº¦ï¼Œxã€yåæ˜ é¢œè‰²çš„è‰²åº¦ç‰¹æ€§ã€‚å®šä¹‰å¦‚ä¸‹ï¼šåœ¨è‰²å½©ç®¡ç†ä¸­ï¼Œé€‰æ‹©ä¸è®¾å¤‡æ— å…³çš„é¢œè‰²ç©ºé—´æ˜¯ ååˆ†é‡è¦çš„ï¼Œä¸è®¾å¤‡æ— å…³çš„é¢œè‰²ç©ºé—´ç”±å›½é™…ç…§æ˜å§”å‘˜ä¼š(CIE)åˆ¶å®šï¼ŒåŒ…æ‹¬CIEXYZå’ŒCIELABä¸¤ä¸ªæ ‡å‡†ã€‚ å®ƒä»¬åŒ…å«äº†äººçœ¼æ‰€èƒ½è¾¨åˆ«çš„å…¨éƒ¨é¢œè‰²ã€‚è€Œä¸”ï¼ŒCIEYxyæµ‹è‰²åˆ¶çš„å»ºç«‹ç»™å®šé‡çš„ç¡®å®šé¢œè‰²åˆ›é€ äº†æ¡ä»¶ã€‚ ä½†æ˜¯ï¼Œåœ¨è¿™ä¸€ç©ºé—´ä¸­ï¼Œä¸¤ç§ä¸åŒé¢œè‰²ä¹‹é—´çš„è·ç¦»å€¼å¹¶ä¸èƒ½æ­£ç¡®åœ°åæ˜ äººä»¬è‰²å½©æ„Ÿè§‰å·®åˆ«çš„å¤§å°ï¼Œ ä¹Ÿå°±æ˜¯è¯´åœ¨CIEYxyè‰²å¦å›¾ä¸­ï¼Œåœ¨ ä¸åŒçš„ä½ç½®ä¸åŒæ–¹å‘ä¸Šé¢œè‰²çš„å®½å®¹é‡æ˜¯ä¸åŒçš„ï¼Œè¿™å°±æ˜¯Yxyé¢œè‰²ç©ºé—´ çš„ä¸å‡åŒ€æ€§ã€‚è¿™ä¸€ç¼ºé™·çš„å­˜åœ¨ï¼Œä½¿å¾—åœ¨YxyåŠXYZç©ºé—´ä¸èƒ½ç›´è§‚åœ°è¯„ä»·é¢œè‰²ã€‚</p>
<p><img src=https://i.loli.net/2017/12/16/5a34e26b25e70.jpg alt=xyz.jpg loading=lazy></p>
<p><img src=https://i.loli.net/2017/12/16/5a34e49c3b8d4.png alt="6 XYZåˆ†é‡.png" loading=lazy></p>
<h2 id=å››pythonä»£ç å®ç°>å››ã€pythonä»£ç å®ç°</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e>#encoding: utf-8</span>

<span style=color:#f92672>import</span> numpy <span style=color:#66d9ef>as</span> np
<span style=color:#f92672>from</span> PIL <span style=color:#f92672>import</span> Image
<span style=color:#f92672>import</span> matplotlib.pyplot <span style=color:#66d9ef>as</span> plt
<span style=color:#f92672>import</span> math

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>show_bmp</span>(img):
    <span style=color:#75715e># BMP çš„è¯»å–ä¸æ˜¾ç¤º</span>
    plt<span style=color:#f92672>.</span>figure(<span style=color:#e6db74>&#34;LenaRGB.bmp&#34;</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#34;LenaRGB.bmp&#34;</span>)
    plt<span style=color:#f92672>.</span>imshow(img)
    plt<span style=color:#f92672>.</span>show()

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>show_hist</span>(img):
    <span style=color:#75715e># ç›´æ–¹å›¾</span>
    plt<span style=color:#f92672>.</span>figure(<span style=color:#e6db74>&#34;Lena hist&#34;</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Lena hist figure&#39;</span>)
    arr <span style=color:#f92672>=</span> img<span style=color:#f92672>.</span>flatten()
    n, bins, patches <span style=color:#f92672>=</span> plt<span style=color:#f92672>.</span>hist(arr, bins<span style=color:#f92672>=</span><span style=color:#ae81ff>256</span>, normed<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>, facecolor<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;green&#39;</span>, alpha<span style=color:#f92672>=</span><span style=color:#ae81ff>0.75</span>)  
    plt<span style=color:#f92672>.</span>show()
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>show_rgb</span>(img):
    <span style=color:#75715e># æ˜¾ç¤ºRGBå›¾åƒ    </span>
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>221</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;orignal&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>222</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;R&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img[:, :, <span style=color:#ae81ff>0</span>], cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>223</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;G&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img[:, :, <span style=color:#ae81ff>1</span>], cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>224</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;B&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img[:, :, <span style=color:#ae81ff>2</span>], cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>show()

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>shou_yiq</span>(img):
    <span style=color:#75715e># æ˜¾ç¤ºYIQåˆ†é‡</span>
    R <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>0</span>])
    G <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>1</span>])
    B <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>2</span>])

    <span style=color:#75715e># aH = np.array([(0.299, 0.587, 0.114), </span>
    <span style=color:#75715e>#               (0.596, -0.274, -0.322), </span>
    <span style=color:#75715e>#               (0.211, -0.523, 0.312)])</span>
    Y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.299</span> <span style=color:#f92672>*</span> R <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.587</span> <span style=color:#f92672>*</span> G <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.114</span> <span style=color:#f92672>*</span> B
    I <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.596</span> <span style=color:#f92672>*</span> R <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.274</span> <span style=color:#f92672>*</span> G <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.322</span> <span style=color:#f92672>*</span> B
    Q <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.211</span> <span style=color:#f92672>*</span> R <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.523</span> <span style=color:#f92672>*</span> G <span style=color:#f92672>-</span> <span style=color:#ae81ff>0.312</span> <span style=color:#f92672>*</span> B
    
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>221</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;orignal&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>222</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Y&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(Y, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>223</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;I&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(I, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>224</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Q&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(Q, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>show()
    <span style=color:#75715e># YIQ = </span>

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>show_xyz</span>(img):
    <span style=color:#75715e># æ˜¾ç¤ºYIQåˆ†é‡</span>
    R <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>0</span>])
    G <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>1</span>])
    B <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>2</span>])

    <span style=color:#75715e># aH = np.array([(0.299, 0.587, 0.114), </span>
    <span style=color:#75715e>#               (0.596, -0.274, -0.322), </span>
    <span style=color:#75715e>#               (0.211, -0.523, 0.312)])</span>
    X <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.490</span> <span style=color:#f92672>*</span> R <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.310</span> <span style=color:#f92672>*</span> G <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.200</span> <span style=color:#f92672>*</span> B
    Y <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.177</span> <span style=color:#f92672>*</span> R <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.813</span> <span style=color:#f92672>*</span> G <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.011</span> <span style=color:#f92672>*</span> B
    Z <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.000</span> <span style=color:#f92672>*</span> R <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.010</span> <span style=color:#f92672>*</span> G <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.990</span> <span style=color:#f92672>*</span> B
    
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>221</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;orignal&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>222</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;X&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(X, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>223</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Y&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(Y, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>224</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;Z&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(Z, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>show()

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>show_hsi</span>(img):
    rows, cols, dims <span style=color:#f92672>=</span> img<span style=color:#f92672>.</span>shape 
    R <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>0</span>])
    G <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>1</span>])
    B <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img[:, :, <span style=color:#ae81ff>2</span>])
    
    I <span style=color:#f92672>=</span> (R <span style=color:#f92672>+</span> G <span style=color:#f92672>+</span> B) <span style=color:#f92672>/</span> <span style=color:#ae81ff>3</span>

    E <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(np<span style=color:#f92672>.</span>ones([rows, cols]))
    minRGB <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(img<span style=color:#f92672>.</span>min(<span style=color:#ae81ff>2</span>))
    lv <span style=color:#f92672>=</span> <span style=color:#ae81ff>3</span> <span style=color:#f92672>*</span> E <span style=color:#f92672>/</span> (R <span style=color:#f92672>+</span> G <span style=color:#f92672>+</span> B)
    S <span style=color:#f92672>=</span> E <span style=color:#f92672>-</span> np<span style=color:#f92672>.</span>multiply(lv, minRGB)

    <span style=color:#75715e># S = np.mat(np.zeros([rows, cols]))</span>
    <span style=color:#75715e># for i in range(rows):</span>
    <span style=color:#75715e>#     for j in range(cols):</span>
    <span style=color:#75715e>#         S[i, j] = 1 - 3/(R[i, j] + G[i, j] + B[i, j]) * min([R[i, j], G[i, j], B[i, j]])</span>

    H <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>mat(np<span style=color:#f92672>.</span>zeros([rows, cols]))
    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(rows):
        <span style=color:#66d9ef>for</span> j <span style=color:#f92672>in</span> range(cols):
            up <span style=color:#f92672>=</span> (R[i, j] <span style=color:#f92672>-</span> G[i, j] <span style=color:#f92672>+</span> R[i, j] <span style=color:#f92672>-</span> B[i, j]) <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>
            down <span style=color:#f92672>=</span> (R[i, j] <span style=color:#f92672>-</span> G[i, j])<span style=color:#f92672>**</span><span style=color:#ae81ff>2</span> <span style=color:#f92672>+</span> (R[i, j] <span style=color:#f92672>-</span> B[i, j]) <span style=color:#f92672>*</span> (G[i, j] <span style=color:#f92672>-</span> B[i, j])<span style=color:#f92672>**</span><span style=color:#ae81ff>0.5</span>
            H[i, j] <span style=color:#f92672>=</span> math<span style=color:#f92672>.</span>acos(up <span style=color:#f92672>/</span> down)
            
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>221</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;orignal&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(img)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>222</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;I&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(I, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>223</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;S&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(S, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>subplot(<span style=color:#ae81ff>224</span>)
    plt<span style=color:#f92672>.</span>title(<span style=color:#e6db74>&#39;H&#39;</span>)
    plt<span style=color:#f92672>.</span>imshow(H, cmap<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;gray&#39;</span>)
    plt<span style=color:#f92672>.</span>show()

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
    img <span style=color:#f92672>=</span> np<span style=color:#f92672>.</span>array(Image<span style=color:#f92672>.</span>open(<span style=color:#e6db74>&#39;/home/sun/Desktop/PycharmProjects/Digital_image_process_lxk/lab1/LenaRGB.bmp&#39;</span>))
    rows, cols, dims <span style=color:#f92672>=</span> img<span style=color:#f92672>.</span>shape
    print img<span style=color:#f92672>.</span>shape  
    print img<span style=color:#f92672>.</span>dtype 
    print img<span style=color:#f92672>.</span>size 
    print type(img)
    
    <span style=color:#75715e># show_bmp(img)</span>
    <span style=color:#75715e># show_hist(img)</span>
    <span style=color:#75715e># show_rgb(img)</span>
    <span style=color:#75715e># shou_yiq(img)</span>
    <span style=color:#75715e># show_hsi(img)</span>
    <span style=color:#75715e># show_xyz(img)</span>

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
    main()
</code></pre></div>
</div>
<div class=post-copyright>
<p class=copyright-item>
<span>Author:</span>
<span>ç¥å¥‡çš„æˆ˜å£« </span>
</p>
<p class=copyright-item>
<span>Link:</span>
<a href=https://wangshub.github.io/posts/python%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E5%9B%BE%E5%83%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%92%8C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/>https://wangshub.github.io/posts/python%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E5%9B%BE%E5%83%8F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84%E5%92%8C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</span>
</p>
</div>
<div class=post-tags>
<section>
<i class="iconfont icon-tag"></i>Tag(s):
<span class=tag><a href=https://wangshub.github.io/tags/python/>
#python</a></span>
<span class=tag><a href=https://wangshub.github.io/tags/algorithm/>
#algorithm</a></span>
<span class=tag><a href=https://wangshub.github.io/tags/image/>
#image</a></span>
</section>
<section>
<a href=javascript:window.history.back();>back</a></span> Â·
<span><a href=https://wangshub.github.io>home</a></span>
</section>
</div>
<div class=post-nav>
<a href=https://wangshub.github.io/posts/python-check-hosts-update/ class=prev rel=prev title="python check hosts update"><i class="iconfont icon-left"></i>&nbsp;python check hosts update</a>
<a href=https://wangshub.github.io/posts/python%E6%95%B0%E5%AD%97%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86-%E5%9B%BE%E5%83%8F%E5%99%AA%E5%A3%B0%E4%B8%8E%E5%8E%BB%E5%99%AA%E7%AE%97%E6%B3%95/ class=next rel=next title=pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒå™ªå£°ä¸å»å™ªç®—æ³•>pythonæ•°å­—å›¾åƒå¤„ç†-å›¾åƒå™ªå£°ä¸å»å™ªç®—æ³•&nbsp;<i class="iconfont icon-right"></i></a>
</div>
<div class=post-comment>
</div>
</article>
</div>
</main>
<footer class=footer>
<div class=copyright>
&copy;
<span itemprop=copyrightYear>2016 - 2021</span>
<span class=with-love>
<i class="iconfont icon-love"></i>
</span>
<span class=author itemprop=copyrightHolder><a href=https://wangshub.github.io>ç¥å¥‡çš„æˆ˜å£«</a> | </span>
<span>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow">Hugo</a> & <a href=https://github.com/Mogeko/Mogege target=_blank rel="external nofollow">Mogege</a></span>
</div>
</footer>
<script defer src=/js/vendor_main.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin=anonymous></script>
<script>pangu.spacingPage()</script>
</div>
</body>
</html>