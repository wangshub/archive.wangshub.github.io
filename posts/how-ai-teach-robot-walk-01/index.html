<!DOCTYPE html>
<html lang="zh-cn">
    <head>
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noodp"/>
    <meta name="author" content="ç¥å¥‡çš„æˆ˜å£«">
    
    <meta name="keywords" content="blog, GNU/Linux, Linux, Ubuntu, Docker, Robot, Python, DRL">
    
    <link rel="prev" href="https://wangshub.github.io/posts/drl-stock/" />
    
    <link rel="canonical" href="https://wangshub.github.io/posts/how-ai-teach-robot-walk-01/" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <title>
        
        
            ç”¨ AI æ•™æœºå™¨äººèµ°è·¯ 01ï¼šå¼ºåŒ–å­¦ä¹ ä¹‹è¿ç»­åŠ¨ä½œæ§åˆ¶ç¯å¢ƒ | ğŸ‰ ç¥å¥‡çš„æˆ˜å£«
        
    </title>
    <meta name="title" content="ç”¨ AI æ•™æœºå™¨äººèµ°è·¯ 01ï¼šå¼ºåŒ–å­¦ä¹ ä¹‹è¿ç»­åŠ¨ä½œæ§åˆ¶ç¯å¢ƒ | ğŸ‰ ç¥å¥‡çš„æˆ˜å£«">
    
<link rel="stylesheet" href="/css/main.min.css">


    
    
 

<script type="application/ld+json">
{
    "@context" : "http://schema.org",
    "@type" : "BlogPosting",
    "mainEntityOfPage": {
         "@type": "WebPage",
         "@id": "https:\/\/wangshub.github.io"
    },
    "articleSection" : "posts",
    "name" : "ç”¨ AI æ•™æœºå™¨äººèµ°è·¯ 01ï¼šå¼ºåŒ–å­¦ä¹ ä¹‹è¿ç»­åŠ¨ä½œæ§åˆ¶ç¯å¢ƒ",
    "headline" : "ç”¨ AI æ•™æœºå™¨äººèµ°è·¯ 01ï¼šå¼ºåŒ–å­¦ä¹ ä¹‹è¿ç»­åŠ¨ä½œæ§åˆ¶ç¯å¢ƒ",
    "description" : "ç½‘ç»œä¸Šå…³äºå¼ºåŒ–å­¦ä¹ çš„èµ„æ–™å¾ˆå¤šï¼Œä½†æ˜¯é’ˆå¯¹åŒè¶³æœºå™¨äººè¿åŠ¨æ§åˆ¶çš„å¼ºåŒ–å­¦ä¹ çš„å…¥é—¨èµ„æ–™å¾ˆå°‘ï¼Œæ‰€ä»¥æ‰“ç®—å°†è‡ªå·±çš„ç†è§£æ±‡æ€»æˆä¸€ä¸ªåšå®¢ç³»åˆ—ã€‚ å…³äºæ·±åº¦å¼ºåŒ–å­¦ä¹  è¡Œ",
    "inLanguage" : "zh-cn",
    "author" : "ç¥å¥‡çš„æˆ˜å£«",
    "creator" : "ç¥å¥‡çš„æˆ˜å£«",
    "publisher": "ç¥å¥‡çš„æˆ˜å£«",
    "accountablePerson" : "ç¥å¥‡çš„æˆ˜å£«",
    "copyrightHolder" : "ç¥å¥‡çš„æˆ˜å£«",
    "copyrightYear" : "2020",
    "datePublished": "2020-12-31 15:34:16 \u002b0800 CST",
    "dateModified" : "2020-12-31 15:34:16 \u002b0800 CST",
    "url" : "https:\/\/wangshub.github.io\/posts\/how-ai-teach-robot-walk-01\/",
    "wordCount" : "1380",
    "keywords" : [ "AI","Reinforcement Learning","Robot", "ğŸ‰ ç¥å¥‡çš„æˆ˜å£«"]
}
</script>

  </head>
    <body class="">
        <div class="wrapper">
            <nav class="navbar">
    
        <progress class="content_progress" max="0" value="0"></progress>
    
    <div class="container">
        
            <div class="navbar-header header-back2home-logo">
                <span class="logo_mark" >>$</span>
                <a href="https://wangshub.github.io">
                    <span class="logo_text" >cd /home/</span>
                    <span class="logo_cursor" ></span>
                </a>
            </div>
        
        <div class="navbar-right">
                
                <span class="menu">
                
                <a class="menu-item" href="/posts/" title="">Blog</a>
                
                <a class="menu-item" href="/tags/" title="">Tags</a>
                
                <a class="menu-item" href="/about/" title="">About</a>
                
                <span class="divide"></span>
                <a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-dark-mode"></i></a>
                </span>
        </div>
    </div>
</nav>
<nav class="navbar-mobile" id="nav-mobile" style="display: none">
    
        <progress class="content_progress" max="0" value="0"></progress>
    
     <div class="container">
        <div class="navbar">
            <div class="navbar-header header-logo">
                    <a href="https://wangshub.github.io">ğŸ‰ ç¥å¥‡çš„æˆ˜å£«</a>
            </div>
            <div class="navbar-right">
                <div><a href="javascript:void(0);" class="theme-switch"><i class="iconfont icon-dark-mode"></i></a></div>
                <div class="menu-toggle">
                    <span></span><span></span><span></span>
                </div>
            </div>
        </div>
     
          <div class="menu" id="mobile-menu">
                <nav class="mb-md">
                    
                    
                        <a class="menu-item" href="/posts/" title="">
                            <h3>Blog</h3>
                            <div class="menu-active"></div>
                        </a>
                    
                        <a class="menu-item" href="/tags/" title="">
                            <h3>Tags</h3>
                            <div class="menu-active"></div>
                        </a>
                    
                        <a class="menu-item" href="/about/" title="">
                            <h3>About</h3>
                            <div class="menu-active"></div>
                        </a>
                    
                </nav>
        </div>
    </div>
</nav>
            <main class="main">
                <div class="container">
                    
<article class="post-warp" itemscope itemtype="http://schema.org/Article">
    <header class="post-header">
        <h1 class="post-title" itemprop="name headline">ç”¨ AI æ•™æœºå™¨äººèµ°è·¯ 01ï¼šå¼ºåŒ–å­¦ä¹ ä¹‹è¿ç»­åŠ¨ä½œæ§åˆ¶ç¯å¢ƒ</h1>
        <div class="post-meta">
                Written by <a itemprop="name" href="https://wangshub.github.io" rel="author">ç¥å¥‡çš„æˆ˜å£«</a> with â™¥
                <span class="post-time">
                on <time datetime=2020-12-31 itemprop="datePublished">December 31, 2020</time>
                </span>
                in
                
                <span class="post-word-count">1380 words</span>
        </div>
    </header>

    <div class="post-content">
        

        
        

        
        
        
        
        

        
        
        

        <p>ç½‘ç»œä¸Šå…³äºå¼ºåŒ–å­¦ä¹ çš„èµ„æ–™å¾ˆå¤šï¼Œä½†æ˜¯é’ˆå¯¹åŒè¶³æœºå™¨äººè¿åŠ¨æ§åˆ¶çš„å¼ºåŒ–å­¦ä¹ çš„å…¥é—¨èµ„æ–™å¾ˆå°‘ï¼Œæ‰€ä»¥æ‰“ç®—å°†è‡ªå·±çš„ç†è§£æ±‡æ€»æˆä¸€ä¸ªåšå®¢ç³»åˆ—ã€‚</p>
<h2 id="å…³äºæ·±åº¦å¼ºåŒ–å­¦ä¹ ">å…³äºæ·±åº¦å¼ºåŒ–å­¦ä¹ </h2>
<p>è¡Œèµ°å¯¹äºæ™®é€šäººæ¥è¯´æ˜¯å°äº‹ä¸€æ¡©ï¼Œä½†æ˜¯å¯¹æœºå™¨äººæ¥è¯´ç»éæ˜“äº‹ã€‚åŒè¶³æœºå™¨äººæ˜¯ä¸€ä¸ªé«˜ç»´ã€éçº¿æ€§çš„å¤æ‚ç³»ç»Ÿï¼Œåœ¨ç›¸å¯¹å®¹æ˜“åœ°ç¯å¢ƒä¸­ï¼ˆå¦‚å¹³å¦åœ°é¢è¡Œèµ°ï¼‰å·²æœ‰åƒ <a href="https://thinkhard.tech/posts/%E5%8F%8C%E8%B6%B3%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%A6%82%E4%BD%95%E8%A1%8C%E8%B5%B0/">çº¿æ€§å€’ç«‹æ‘†æ¨¡å‹</a> ç­‰æˆç†Ÿçš„è®¡ç®—è§„åˆ’æœºå™¨äººçš„è¿åŠ¨è½¨è¿¹ï¼Œå†ä½¿ç”¨é€†è¿åŠ¨å­¦ç­‰æ–¹æ³•è®¡ç®—å…³èŠ‚è§’åº¦ç­‰æ§åˆ¶å‚æ•°ï¼Œä»è€Œé©±åŠ¨æœºå™¨ç±»äººè¡Œèµ°ã€‚</p>
<p>ä½†æ˜¯åœ¨å„ç§å¤æ‚ç¯å¢ƒï¼ˆå¦‚å´å²–è·¯é¢ã€å¤–éƒ¨æ‰°åŠ¨ã€æœºå™¨äººåä½œç­‰ï¼‰ä¸‹ä»¤æœºå™¨äººèµ°èµ·æ¥ä»ç„¶å›°éš¾é‡é‡ï¼Œæ¯”å¦‚çªç„¶è¸¹æœºå™¨äººä¸€è„šã€è„šåº•æ‰“æ»‘æˆ–è€…è…¿ç˜¸äº†ï¼Œç®€å•çš„æ¨¡å‹æ— æ³•ç†è§£è¿™äº›å˜åŒ–ï¼Œæ·±åº¦ç½‘ç»œæ°å¥½å¯ä»¥å¸®åŠ©æœºå™¨äººç†è§£è¿™äº›å¤æ‚ç¯å¢ƒï¼Œå…¶ä¸­ <a href="https://zh.wikipedia.org/zh-hans/%E6%B7%B1%E5%BA%A6%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0">æ·±åº¦å¼ºåŒ–å­¦ä¹ </a> å—åˆ°è¶Šæ¥è¶Šå¤šçš„å…³æ³¨ã€‚</p>
<p>åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ç¯å¢ƒé€šå¸¸è¢«è§„èŒƒä¸ºé©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ï¼Œæœºå™¨äººéœ€è¦æ ¹æ®å½“å‰ç¯å¢ƒçš„<strong>çŠ¶æ€</strong>é‡‡å–æœ€ä½³çš„<strong>åŠ¨ä½œ</strong>ï¼Œä»¥è·å¾—æœ€é«˜çš„å›åˆå¥–åŠ±å€¼ã€‚è¶…çº§ç›ä¸½ä¸€ç±»çš„å¼ºåŒ–å­¦ä¹ ç¯å¢ƒä¸­ï¼Œè§’è‰²åœ¨æ¯ä¸ª Step è¦é‡‡å–<code>å‰è¿›ã€åé€€ã€è·³ã€å‘å°„å­å¼¹</code>ç­‰ç¦»æ•£çš„åŠ¨ä½œã€‚ä½†åŒè¶³è¡Œèµ°æœºå™¨äººè¦åœ¨æ¯ä¸ª Step æ§åˆ¶æ¯ä¸ªå…³èŠ‚çš„è§’åº¦æˆ–è€…æ‰­çŸ©ç­‰å€¼é©±åŠ¨è‡ªèº«è¿åŠ¨ï¼Œæ‰€ä»¥è¾“å‡ºçš„åŠ¨ä½œå€¼ä¸ºè¿ç»­çš„æµ®ç‚¹æ•°ï¼Œå³<strong>è¿ç»­è¿åŠ¨æ§åˆ¶</strong>ã€‚</p>
<p>è¿ç»­åŠ¨ä½œæ§åˆ¶ç¯å¢ƒçš„è®­ç»ƒè¦æ¯”ç¦»æ•£åŠ¨ä½œæ§åˆ¶ç¯å¢ƒè¦æ›´ä¸ºå›°éš¾ï¼Œå°±ç®—ä½¿ç”¨ç›®å‰å¸‚é¢ä¸Šé…ç½®æœ€é«˜çš„å®¶ç”¨ CPU å’Œ GPUï¼Œå¯¹äºè®­ç»ƒåƒåŒè¶³æœºå™¨äººè¡Œèµ°ã€è¿åŠ¨ç­‰å¤æ‚çš„è¿ç»­è¿åŠ¨æ§åˆ¶ç¯å¢ƒï¼Œä»éœ€è¦å¥½å‡ å¤©çš„æ—¶é—´æ‰èƒ½æ”¶æ•›ã€‚åœ¨ <a href="https://www.alexirpan.com/2018/02/14/rl-hard.html">Alexirpan</a> çš„åšæ–‡ä¸­ï¼Œä»–æ€»ç»“äº†æ·±åº¦å¼ºåŒ–å­¦ä¹ ä¸€äº›é—®é¢˜ï¼š</p>
<ol>
<li>æ ·æœ¬åˆ©ç”¨ç‡éå¸¸ä½ï¼›</li>
<li>æœ€ç»ˆè¡¨ç°ä¸å¤Ÿå¥½ï¼Œç»å¸¸æ¯”ä¸è¿‡åŸºäºæ¨¡å‹çš„æ–¹æ³•ï¼›</li>
<li>å¥½çš„å¥–åŠ±å‡½æ•°éš¾ä»¥è®¾è®¡ï¼›</li>
<li>éš¾ä»¥å¹³è¡¡â€œæ¢ç´¢â€å’Œâ€œåˆ©ç”¨â€, ä»¥è‡´ç®—æ³•é™·å…¥å±€éƒ¨æå°ï¼›</li>
<li>å¯¹ç¯å¢ƒçš„è¿‡æ‹Ÿåˆï¼›</li>
<li>ç¾éš¾æ€§çš„ä¸ç¨³å®šæ€§ï¼›</li>
<li>&hellip;</li>
</ol>
<p>è¿™äº›é—®é¢˜çš„å­˜åœ¨ï¼Œåœ¨çœ‹è®ºæ–‡æˆ–è€…ç®—æ³•è¿‡ç¨‹ä¸­ï¼Œå¸¸å¸¸é™·å…¥å±€éƒ¨ç»†èŠ‚å½“ã€‚<a href="https://spinningup.openai.com/en/latest/spinningup/spinningup.html#learn-by-doing">OpenAI spinningup åšå®¢</a> æä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œå­¦ä¹  DRL éœ€è¦ï¼š</p>
<ul>
<li>ä»äº†è§£å’Œåˆ©ç”¨ç°æœ‰çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ä¸ºèµ·ç‚¹ï¼Œä¸è¦é™·å…¥å±€éƒ¨ç»†èŠ‚ï¼›</li>
<li>åœ¨æœ€ç®€å•çš„ç¯å¢ƒè¯•éªŒç®—æ³•çš„æœ‰æ•ˆæ€§ï¼Œå¿«é€Ÿè¿­ä»£ï¼›</li>
<li>å½“è¯•éªŒæˆåŠŸåï¼Œå†åº”ç”¨åˆ°å¤æ‚çš„ç¯å¢ƒä¸­å»ï¼›</li>
</ul>
<p>æ‰€ä»¥åœ¨åé¢å†…å®¹ä¸­ä½¿ç”¨ç»å…¸çš„ CartPole ç¯å¢ƒä½œä¸ºæ¼”ç¤ºã€‚</p>
<h2 id="ç¯å¢ƒå®‰è£…">ç¯å¢ƒå®‰è£…</h2>
<p>ç›®å‰ <a href="https://github.com/openai/baselines">baselines</a>ã€<a href="https://github.com/DLR-RM/stable-baselines3https://github.com/DLR-RM/stable-baselines3">stable-baselines3</a>ã€<a href="https://docs.ray.io/en/master/rllib-algorithms.html#available-algorithms-overview">RLlib</a> ç­‰å¼ºåŒ–å­¦ä¹ åº“éƒ½å†…ç½®äº†ä¸»æµçš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œè¿™é‡Œä½¿ç”¨ RLlib ä½œä¸ºæ¼”ç¤ºã€‚</p>
<p>å‚è€ƒ <a href="https://docs.ray.io/en/master/rllib.html#running-rllib">Running RLlib</a> å®‰è£…æ­¥éª¤ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">pip install <span style="color:#e6db74">&#39;ray[rllib]&#39;</span>
pip install PyBullet
pip install gym
</code></pre></div><h2 id="cartpole-è¿ç»­è¿åŠ¨æ§åˆ¶">CartPole è¿ç»­è¿åŠ¨æ§åˆ¶</h2>
<p>å€’ç«‹æ‘†å°è½¦ Cartpole é€šå¸¸ä½œä¸º DRL ç®—æ³•çš„å…¥é—¨ç¯å¢ƒï¼Œä½†å¦‚ä¸‹å®éªŒä»£ç æ‰€ç¤ºï¼Œåœ¨ Gym å†…ç½®ç¯å¢ƒ <code>CartPoleBulletEnv-v1</code> ä¸‹æ˜¯ç¦»æ•£çš„åŠ¨ä½œç©ºé—´ï¼Œç­–ç•¥åªèƒ½æ ¹æ®ç¯å¢ƒçŠ¶æ€è®©å°è½¦<code>å‘å·¦ã€å‘å³</code>ç§»åŠ¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> gym
env <span style="color:#f92672">=</span> gym<span style="color:#f92672">.</span>make(<span style="color:#e6db74">&#39;CartPoleBulletEnv-v1&#39;</span>)
<span style="color:#66d9ef">print</span>(env<span style="color:#f92672">.</span>observation_space)
<span style="color:#66d9ef">print</span>(env<span style="color:#f92672">.</span>action_space)

<span style="color:#75715e"># Box(-3.4028234663852886e+38, 3.4028234663852886e+38, (4,), float32)</span>
<span style="color:#75715e"># Discrete(2)</span>
</code></pre></div><p>ä½†æ˜¯åœ¨ Pybullet ç¯å¢ƒä¸­ï¼Œå¯ä»¥æ‰¾åˆ°å€’ç«‹æ‘†å°è½¦çš„è¿ç»­è¿åŠ¨ç©ºé—´çš„è¯•éªŒç¯å¢ƒ <code>CartPoleContinuousBulletEnv-v0</code>ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> gym
<span style="color:#f92672">import</span> pybullet_envs
env <span style="color:#f92672">=</span> gym<span style="color:#f92672">.</span>make(<span style="color:#e6db74">&#39;CartPoleContinuousBulletEnv-v0&#39;</span>)
<span style="color:#66d9ef">print</span>(env<span style="color:#f92672">.</span>observation_space)
<span style="color:#66d9ef">print</span>(env<span style="color:#f92672">.</span>action_space)

<span style="color:#75715e"># Box(-3.4028234663852886e+38, 3.4028234663852886e+38, (4,), float32)</span>
<span style="color:#75715e"># Box(-10.0, 10.0, (1,), float32)</span>
</code></pre></div><h3 id="è®­ç»ƒä»£ç ">è®­ç»ƒä»£ç </h3>
<p>è®­ç»ƒä»£ç å¦‚ä¸‹ï¼Œæ ¹æ®è¿è¡Œç¯å¢ƒçš„é…ç½®ï¼Œç›¸åº”è°ƒèŠ‚ <code>num_workers</code>ã€ <code>num_gpus</code>ç­‰å‚æ•°ã€‚è®­ç»ƒç»“æœé»˜è®¤ä¿å­˜åœ¨ <code>~/ray_results</code> ç›®å½•ä¸‹ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">import</span> gym
<span style="color:#f92672">import</span> pybullet_envs
<span style="color:#f92672">import</span> ray
<span style="color:#f92672">from</span> ray <span style="color:#f92672">import</span> tune
<span style="color:#f92672">from</span> ray.rllib.agents.ppo <span style="color:#f92672">import</span> PPOTrainer
<span style="color:#f92672">from</span> ray.tune.registry <span style="color:#f92672">import</span> register_env

ray<span style="color:#f92672">.</span>shutdown()
ray<span style="color:#f92672">.</span>init(ignore_reinit_error<span style="color:#f92672">=</span>True)

ENV <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;CartPoleContinuousBulletEnv-v0&#39;</span>
<span style="color:#66d9ef">def</span> <span style="color:#a6e22e">make_env</span>(env_config):
    <span style="color:#f92672">import</span> pybullet_envs
    <span style="color:#66d9ef">return</span> gym<span style="color:#f92672">.</span>make(ENV)
register_env(ENV, make_env)
TARGET_REWARD <span style="color:#f92672">=</span> <span style="color:#ae81ff">199</span>
TRAINER <span style="color:#f92672">=</span> PPOTrainer

config_train <span style="color:#f92672">=</span> {
        <span style="color:#e6db74">&#34;env&#34;</span>: ENV,
        <span style="color:#e6db74">&#34;num_workers&#34;</span>: <span style="color:#ae81ff">1</span>,
        <span style="color:#e6db74">&#34;num_gpus&#34;</span>: <span style="color:#ae81ff">0</span>,
        <span style="color:#e6db74">&#34;monitor&#34;</span>: True,
        <span style="color:#e6db74">&#34;evaluation_num_episodes&#34;</span>: <span style="color:#ae81ff">50</span>,
    }

analysis <span style="color:#f92672">=</span> tune<span style="color:#f92672">.</span>run(
    TRAINER,
    stop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#34;episode_reward_mean&#34;</span>: TARGET_REWARD},
    config<span style="color:#f92672">=</span>config_train,
    checkpoint_at_end<span style="color:#f92672">=</span>True
)
</code></pre></div><p>ä½¿ç”¨ <a href="https://docs.ray.io/en/master/tune/index.html">Tune</a> è¿è¡Œ RLlib çš„ <code>TRAINER</code>ï¼Œå¯ä»¥æ¯”è¾ƒæ–¹ä¾¿çš„ç®¡ç†å®éªŒå’Œå¯è§†åŒ–ã€‚<code>tune.run()</code> è¿”å›äº† <code>ExperimentAnalysis</code> ç±»ï¼Œå¯ç”¨äºä¿å­˜ç»“æœå’ŒåŠ è½½ checkpointã€‚</p>
<h3 id="åŠ è½½è®­ç»ƒå¥½çš„æ¨¡å‹">åŠ è½½è®­ç»ƒå¥½çš„æ¨¡å‹</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">agent_test <span style="color:#f92672">=</span> PPOTrainer(config<span style="color:#f92672">=</span>config_train, env<span style="color:#f92672">=</span>ENV)
agent_test<span style="color:#f92672">.</span>restore(<span style="color:#e6db74">&#39;path/to/checkpoint/file&#39;</span>)
</code></pre></div><h3 id="æµ‹è¯•å›æ”¾">æµ‹è¯•å›æ”¾</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#75715e"># instantiate env class</span>
env <span style="color:#f92672">=</span> gym<span style="color:#f92672">.</span>make(ENV)

<span style="color:#75715e"># run until episode ends</span>
episode_reward <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
done <span style="color:#f92672">=</span> False
obs <span style="color:#f92672">=</span> env<span style="color:#f92672">.</span>reset()
<span style="color:#66d9ef">while</span> <span style="color:#f92672">not</span> done:
    action <span style="color:#f92672">=</span> agent_test<span style="color:#f92672">.</span>compute_action(obs)
    obs, reward, done, info <span style="color:#f92672">=</span> env<span style="color:#f92672">.</span>step(action)
    episode_reward <span style="color:#f92672">+=</span> reward

<span style="color:#66d9ef">print</span>(episode_reward)

<span style="color:#75715e"># &gt;&gt; 200.0</span>
</code></pre></div><h3 id="å­¦ä¹ æ›²çº¿">å­¦ä¹ æ›²çº¿</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#f92672">%</span>matplotlib inline
<span style="color:#f92672">import</span> pandas
df <span style="color:#f92672">=</span> pandas<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;/your/path/to/progress.csv&#39;</span>)
df<span style="color:#f92672">.</span>plot(kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;line&#39;</span>, x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;timesteps_total&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;episode_reward_mean&#39;</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">4</span>))
</code></pre></div><img src ="img/2021-01-12-17-22-20.png" width="60%"/>
<h2 id="ç»“è¯­">ç»“è¯­</h2>
<p>åšå®¢å¤§è‡´è®°å½•äº†ä¸‹ <code>rllib</code> åœ¨è¿ç»­çš„ Pybullet ä»¿çœŸç¯å¢ƒä¸‹çš„ä½¿ç”¨æµç¨‹ï¼Œåç»­å°†è®°å½•ä¸‹å¦‚ä½•ä½¿ç”¨ Pybullet å†…çš„è¿ç»­æ§åˆ¶çš„å¼ºåŒ–å­¦ä¹ ç¯å¢ƒã€‚</p>

    </div>

    <div class="post-copyright">
            
            <p class="copyright-item">
                <span>Author:</span>
                <span>ç¥å¥‡çš„æˆ˜å£« </span>
                </p>
            

            
            <p class="copyright-item">
                    <span>Link:</span>
                    <a href=https://wangshub.github.io/posts/how-ai-teach-robot-walk-01/>https://wangshub.github.io/posts/how-ai-teach-robot-walk-01/</span>
            </p>
            
            
            <p class="copyright-item lincese">
                æœ¬æ–‡é‡‡ç”¨<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨ 4.0 å›½é™…è®¸å¯åè®®</a>è¿›è¡Œè®¸å¯
            </p>
            
    </div>


    <div class="post-tags">
        
            <section>
            <i class="iconfont icon-tag"></i>Tag(s):
            
            <span class="tag"><a href="https://wangshub.github.io/tags/ai/">
                    #AI</a></span>
            
            <span class="tag"><a href="https://wangshub.github.io/tags/reinforcement-learning/">
                    #Reinforcement Learning</a></span>
            
            <span class="tag"><a href="https://wangshub.github.io/tags/robot/">
                    #Robot</a></span>
            
            </section>
        
        <section>
                <a href="javascript:window.history.back();">back</a></span> Â·
                <span><a href="https://wangshub.github.io">home</a></span>
        </section>
    </div>

    <div class="post-nav">
        
        <a href="https://wangshub.github.io/posts/drl-stock/" class="prev" rel="prev" title="å¦‚ä½•ç”¨æ·±åº¦å¼ºåŒ–å­¦ä¹ æ¨¡æ‹Ÿç‚’è‚¡"><i class="iconfont icon-left"></i>&nbsp;å¦‚ä½•ç”¨æ·±åº¦å¼ºåŒ–å­¦ä¹ æ¨¡æ‹Ÿç‚’è‚¡</a>
        
        
    </div>

    <div class="post-comment">
        
            
        
    </div>
</article>
                </div>
            </main>
            <footer class="footer">
    <div class="copyright">
        &copy;
        
        <span itemprop="copyrightYear">2016 - 2021</span>
        
        <span class="with-love">
    	 <i class="iconfont icon-love"></i>
         </span>
         
            <span class="author" itemprop="copyrightHolder"><a href="https://wangshub.github.io">ç¥å¥‡çš„æˆ˜å£«</a> | </span>
         

         
		  <span>Powered by <a href="https://gohugo.io/" target="_blank" rel="external nofollow">Hugo</a> & <a href="https://github.com/Mogeko/Mogege" target="_blank" rel="external nofollow">Mogege</a></span>
    </div>
</footer>






<script defer src="/js/vendor_main.min.js"></script>







<script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous"></script>
<script> pangu.spacingPage();</script>



<script>
  MathJax = {
    tex: {
      inlineMath: [["$", "$"]],
    },
    displayMath: [
      ["$$", "$$"],
      ["\[\[", "\]\]"],
    ],
    svg: {
      fontCache: "global",
    },
  };
</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
></script>

        </div>
    </body>
</html>
